const express = require('express');
const axios = require('axios');

const app = express();
const port = 3000;

// Serve static files from the public directory
app.use(express.static('public'));

app.get('/api/titles', async (req, res) => {
    const words = req.query.words.split(' ');
    const generatedTitles = await generateTitles(words);
    res.json(generatedTitles);
});

async function getSynonyms(word) {
    try {
        const response = await axios.get(`https://wordsapiv1.p.rapidapi.com/words/${word}/synonyms`, {
            headers: {
                'x-rapidapi-host': 'wordsapiv1.p.rapidapi.com',
                'x-rapidapi-key': '689cbb027cmshad751b1bfca97bap1a7fc0jsnd31064068aa6'
            }
        });
        return response.data.synonyms || [];
    } catch (error) {
        console.error('Error fetching synonyms:', error);
        return [];
    }
}

async function generateTitles(words) {
    const titles = [];
    for (const word of words) {
        const synonyms = await getSynonyms(word);
        titles.push(...synonyms);
    }
    return titles;
}

app.listen(port, () => {
    console.log(`Server is running on http://localhost:${port}`);
});


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painting Title Generator</title>
</head>
<body>
    <h1>Painting Title Generator</h1>
    <input type="text" id="wordsInput" placeholder="Enter a series of words">
    <button onclick="generateTitles()">Generate Titles</button>
    <ul id="titlesList"></ul>

    <script>
        async function generateTitles() {
            const words = document.getElementById('wordsInput').value;
            const response = await fetch(`/api/titles?words=${words}`);
            const titles = await response.json();
            const titlesList = document.getElementById('titlesList');
            titlesList.innerHTML = '';
            titles.forEach(title => {
                const li = document.createElement('li');
                li.textContent = title;
                titlesList.appendChild(li);
            });
        }
    </script>
</body>
</html>
